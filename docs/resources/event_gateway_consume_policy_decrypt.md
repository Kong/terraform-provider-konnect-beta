---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "konnect_event_gateway_consume_policy_decrypt Resource - terraform-provider-konnect-beta"
subcategory: ""
description: |-
  EventGatewayConsumePolicyDecrypt Resource
---

# konnect_event_gateway_consume_policy_decrypt (Resource)

EventGatewayConsumePolicyDecrypt Resource

## Example Usage

```terraform
resource "konnect_event_gateway_consume_policy_decrypt" "my_eventgatewayconsumepolicydecrypt" {
  provider = konnect-beta
  condition = "context.topic.name.endsWith('my_suffix')"
  config = {
    decrypt = [
      {
        part_of_record = "key"
      }
    ]
    failure_mode = "passthrough"
    key_sources = [
      {
        aws = {
          # ...
        }
      }
    ]
  }
  description = "...my_description..."
  enabled     = false
  gateway_id  = "9524ec7d-36d9-465d-a8c5-83a3c9390458"
  labels = {
    key = "value"
  }
  name               = "...my_name..."
  parent_policy_id   = "969447b3-1e41-42d8-a020-1ebc4e88a916"
  virtual_cluster_id = "05c6c607-3c42-45e9-a9e8-3e6338120724"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `config` (Attributes) The configuration of the decrypt policy. (see [below for nested schema](#nestedatt--config))
- `gateway_id` (String) The UUID of your Gateway.
- `virtual_cluster_id` (String) The ID of the Virtual Cluster.

### Optional

- `condition` (String) A string containing the boolean expression that determines whether the policy is applied.
- `description` (String) A human-readable description of the policy.
- `enabled` (Boolean) Whether the policy is enabled. Default: true
- `labels` (Map of String) Labels store metadata of an entity that can be used for filtering an entity list or for searching across entity types. 

Keys must be of length 1-63 characters, and cannot start with "kong", "konnect", "mesh", "kic", or "_".
- `name` (String) A unique user-defined name of the policy.
- `parent_policy_id` (String) When specified, it sets the ID of the parent policy. Requires replacement if changed.

### Read-Only

- `created_at` (String) An ISO-8601 timestamp representation of entity creation date.
- `id` (String) The unique identifier of the policy.
- `updated_at` (String) An ISO-8601 timestamp representation of entity update date.

<a id="nestedatt--config"></a>
### Nested Schema for `config`

Required:

- `decrypt` (Attributes List) Describes what parts of a record to decrypt. (see [below for nested schema](#nestedatt--config--decrypt))
- `failure_mode` (String) Describes how to handle failing encryption or decryption.
Use `error` if the record should be rejected if encryption or decryption fails.
Use `passthrough` to ignore encryption or decryption failure and continue proxying the record.
must be one of ["error", "passthrough"]
- `key_sources` (Attributes List) Describes how to find a symmetric key for decryption. (see [below for nested schema](#nestedatt--config--key_sources))

<a id="nestedatt--config--decrypt"></a>
### Nested Schema for `config.decrypt`

Required:

- `part_of_record` (String) * key - decrypt the record key
* value - decrypt the record value
must be one of ["key", "value"]


<a id="nestedatt--config--key_sources"></a>
### Nested Schema for `config.key_sources`

Optional:

- `aws` (Attributes) A key source that uses an AWS KMS to find a symmetric key. Load KMS credentials from the environment.

See [aws docs](https://docs.aws.amazon.com/sdk-for-rust/latest/dg/credproviders.html#credproviders-default-credentials-provider-chain)
for more information about how credential retrieval. (see [below for nested schema](#nestedatt--config--key_sources--aws))
- `static` (Attributes) A key source that uses a static symmetric key. The key is provided as a base64-encoded string. (see [below for nested schema](#nestedatt--config--key_sources--static))

<a id="nestedatt--config--key_sources--aws"></a>
### Nested Schema for `config.key_sources.aws`


<a id="nestedatt--config--key_sources--static"></a>
### Nested Schema for `config.key_sources.static`

Required:

- `keys` (Attributes List) A list of static, user-provided keys. Each one must be 128 bits long. (see [below for nested schema](#nestedatt--config--key_sources--static--keys))

<a id="nestedatt--config--key_sources--static--keys"></a>
### Nested Schema for `config.key_sources.static.keys`

Required:

- `id` (String) The unique identifier of the key.
- `key` (String) A sensitive value containing the secret or a reference to a secret as a template string expression.
If the value is provided as plain text, it is encrypted at rest and omitted from API responses.
If provided as an expression, the expression itself is stored and returned by the API.

## Import

Import is supported using the following syntax:

In Terraform v1.5.0 and later, the [`import` block](https://developer.hashicorp.com/terraform/language/import) can be used with the `id` attribute, for example:

```terraform
import {
  to = konnect_event_gateway_consume_policy_decrypt.my_konnect_event_gateway_consume_policy_decrypt
  id = jsonencode({
    gateway_id = "9524ec7d-36d9-465d-a8c5-83a3c9390458"
    id = "9524ec7d-36d9-465d-a8c5-83a3c9390458"
    virtual_cluster_id = "..."
  })
}
```

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
terraform import konnect_event_gateway_consume_policy_decrypt.my_konnect_event_gateway_consume_policy_decrypt '{"gateway_id": "9524ec7d-36d9-465d-a8c5-83a3c9390458", "id": "9524ec7d-36d9-465d-a8c5-83a3c9390458", "virtual_cluster_id": "..."}'
```
