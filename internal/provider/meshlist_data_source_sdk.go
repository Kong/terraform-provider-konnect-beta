// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package provider

import (
	"context"
	"encoding/json"
	"github.com/hashicorp/terraform-plugin-framework/diag"
	"github.com/hashicorp/terraform-plugin-framework/types"
	tfTypes "github.com/kong/terraform-provider-konnect-beta/internal/provider/types"
	"github.com/kong/terraform-provider-konnect-beta/internal/sdk/models/operations"
	"github.com/kong/terraform-provider-konnect-beta/internal/sdk/models/shared"
)

func (r *MeshListDataSourceModel) RefreshFromSharedMeshList(ctx context.Context, resp *shared.MeshList) diag.Diagnostics {
	var diags diag.Diagnostics

	if resp != nil {
		r.Items = []tfTypes.MeshItem{}
		if len(r.Items) > len(resp.Items) {
			r.Items = r.Items[:len(resp.Items)]
		}
		for itemsCount, itemsItem := range resp.Items {
			var items tfTypes.MeshItem
			if itemsItem.Constraints == nil {
				items.Constraints = nil
			} else {
				items.Constraints = &tfTypes.Constraints{}
				if itemsItem.Constraints.DataplaneProxy == nil {
					items.Constraints.DataplaneProxy = nil
				} else {
					items.Constraints.DataplaneProxy = &tfTypes.DataplaneProxy{}
					items.Constraints.DataplaneProxy.Requirements = []tfTypes.Requirements{}
					for requirementsCount, requirementsItem := range itemsItem.Constraints.DataplaneProxy.Requirements {
						var requirements tfTypes.Requirements
						if len(requirementsItem.Tags) > 0 {
							requirements.Tags = make(map[string]types.String, len(requirementsItem.Tags))
							for key, value := range requirementsItem.Tags {
								requirements.Tags[key] = types.StringValue(value)
							}
						}
						if requirementsCount+1 > len(items.Constraints.DataplaneProxy.Requirements) {
							items.Constraints.DataplaneProxy.Requirements = append(items.Constraints.DataplaneProxy.Requirements, requirements)
						} else {
							items.Constraints.DataplaneProxy.Requirements[requirementsCount].Tags = requirements.Tags
						}
					}
					items.Constraints.DataplaneProxy.Restrictions = []tfTypes.Requirements{}
					for restrictionsCount, restrictionsItem := range itemsItem.Constraints.DataplaneProxy.Restrictions {
						var restrictions tfTypes.Requirements
						if len(restrictionsItem.Tags) > 0 {
							restrictions.Tags = make(map[string]types.String, len(restrictionsItem.Tags))
							for key1, value1 := range restrictionsItem.Tags {
								restrictions.Tags[key1] = types.StringValue(value1)
							}
						}
						if restrictionsCount+1 > len(items.Constraints.DataplaneProxy.Restrictions) {
							items.Constraints.DataplaneProxy.Restrictions = append(items.Constraints.DataplaneProxy.Restrictions, restrictions)
						} else {
							items.Constraints.DataplaneProxy.Restrictions[restrictionsCount].Tags = restrictions.Tags
						}
					}
				}
			}
			if len(itemsItem.Labels) > 0 {
				items.Labels = make(map[string]types.String, len(itemsItem.Labels))
				for key2, value2 := range itemsItem.Labels {
					items.Labels[key2] = types.StringValue(value2)
				}
			}
			if itemsItem.Logging == nil {
				items.Logging = nil
			} else {
				items.Logging = &tfTypes.Logging{}
				items.Logging.Backends = []tfTypes.Backends{}
				for backendsCount, backendsItem := range itemsItem.Logging.Backends {
					var backends tfTypes.Backends
					if backendsItem.Conf != nil {
						backends.Conf = &tfTypes.MeshItemLoggingConf{}
						if backendsItem.Conf.FileLoggingBackendConfig != nil {
							backends.Conf.FileLoggingBackendConfig = &tfTypes.FileLoggingBackendConfig{}
							backends.Conf.FileLoggingBackendConfig.Path = types.StringPointerValue(backendsItem.Conf.FileLoggingBackendConfig.Path)
						}
						if backendsItem.Conf.TCPLoggingBackendConfig != nil {
							backends.Conf.TCPLoggingBackendConfig = &tfTypes.TCPLoggingBackendConfig{}
							backends.Conf.TCPLoggingBackendConfig.Address = types.StringPointerValue(backendsItem.Conf.TCPLoggingBackendConfig.Address)
						}
					}
					backends.Format = types.StringPointerValue(backendsItem.Format)
					backends.Name = types.StringPointerValue(backendsItem.Name)
					backends.Type = types.StringPointerValue(backendsItem.Type)
					if backendsCount+1 > len(items.Logging.Backends) {
						items.Logging.Backends = append(items.Logging.Backends, backends)
					} else {
						items.Logging.Backends[backendsCount].Conf = backends.Conf
						items.Logging.Backends[backendsCount].Format = backends.Format
						items.Logging.Backends[backendsCount].Name = backends.Name
						items.Logging.Backends[backendsCount].Type = backends.Type
					}
				}
				items.Logging.DefaultBackend = types.StringPointerValue(itemsItem.Logging.DefaultBackend)
			}
			if itemsItem.MeshServices == nil {
				items.MeshServices = nil
			} else {
				items.MeshServices = &tfTypes.MeshServices{}
				if itemsItem.MeshServices.Mode != nil {
					items.MeshServices.Mode = &tfTypes.MeshItemMode{}
					if itemsItem.MeshServices.Mode.Str != nil {
						items.MeshServices.Mode.Str = types.StringPointerValue(itemsItem.MeshServices.Mode.Str)
					}
					if itemsItem.MeshServices.Mode.Integer != nil {
						items.MeshServices.Mode.Integer = types.Int64PointerValue(itemsItem.MeshServices.Mode.Integer)
					}
				}
			}
			if itemsItem.Metrics == nil {
				items.Metrics = nil
			} else {
				items.Metrics = &tfTypes.Metrics{}
				items.Metrics.Backends = []tfTypes.MeshItemBackends{}
				for backendsCount1, backendsItem1 := range itemsItem.Metrics.Backends {
					var backends1 tfTypes.MeshItemBackends
					if backendsItem1.Conf != nil {
						backends1.Conf = &tfTypes.MeshItemConf{}
						if backendsItem1.Conf.PrometheusMetricsBackendConfig != nil {
							backends1.Conf.PrometheusMetricsBackendConfig = &tfTypes.PrometheusMetricsBackendConfig{}
							backends1.Conf.PrometheusMetricsBackendConfig.Aggregate = []tfTypes.Aggregate{}
							for aggregateCount, aggregateItem := range backendsItem1.Conf.PrometheusMetricsBackendConfig.Aggregate {
								var aggregate tfTypes.Aggregate
								aggregate.Address = types.StringPointerValue(aggregateItem.Address)
								aggregate.Enabled = types.BoolPointerValue(aggregateItem.Enabled)
								aggregate.Name = types.StringPointerValue(aggregateItem.Name)
								aggregate.Path = types.StringPointerValue(aggregateItem.Path)
								aggregate.Port = types.Int64PointerValue(aggregateItem.Port)
								if aggregateCount+1 > len(backends1.Conf.PrometheusMetricsBackendConfig.Aggregate) {
									backends1.Conf.PrometheusMetricsBackendConfig.Aggregate = append(backends1.Conf.PrometheusMetricsBackendConfig.Aggregate, aggregate)
								} else {
									backends1.Conf.PrometheusMetricsBackendConfig.Aggregate[aggregateCount].Address = aggregate.Address
									backends1.Conf.PrometheusMetricsBackendConfig.Aggregate[aggregateCount].Enabled = aggregate.Enabled
									backends1.Conf.PrometheusMetricsBackendConfig.Aggregate[aggregateCount].Name = aggregate.Name
									backends1.Conf.PrometheusMetricsBackendConfig.Aggregate[aggregateCount].Path = aggregate.Path
									backends1.Conf.PrometheusMetricsBackendConfig.Aggregate[aggregateCount].Port = aggregate.Port
								}
							}
							if backendsItem1.Conf.PrometheusMetricsBackendConfig.Envoy == nil {
								backends1.Conf.PrometheusMetricsBackendConfig.Envoy = nil
							} else {
								backends1.Conf.PrometheusMetricsBackendConfig.Envoy = &tfTypes.Envoy{}
								backends1.Conf.PrometheusMetricsBackendConfig.Envoy.FilterRegex = types.StringPointerValue(backendsItem1.Conf.PrometheusMetricsBackendConfig.Envoy.FilterRegex)
								backends1.Conf.PrometheusMetricsBackendConfig.Envoy.UsedOnly = types.BoolPointerValue(backendsItem1.Conf.PrometheusMetricsBackendConfig.Envoy.UsedOnly)
							}
							backends1.Conf.PrometheusMetricsBackendConfig.Path = types.StringPointerValue(backendsItem1.Conf.PrometheusMetricsBackendConfig.Path)
							backends1.Conf.PrometheusMetricsBackendConfig.Port = types.Int64PointerValue(backendsItem1.Conf.PrometheusMetricsBackendConfig.Port)
							backends1.Conf.PrometheusMetricsBackendConfig.SkipMTLS = types.BoolPointerValue(backendsItem1.Conf.PrometheusMetricsBackendConfig.SkipMTLS)
							if len(backendsItem1.Conf.PrometheusMetricsBackendConfig.Tags) > 0 {
								backends1.Conf.PrometheusMetricsBackendConfig.Tags = make(map[string]types.String, len(backendsItem1.Conf.PrometheusMetricsBackendConfig.Tags))
								for key3, value3 := range backendsItem1.Conf.PrometheusMetricsBackendConfig.Tags {
									backends1.Conf.PrometheusMetricsBackendConfig.Tags[key3] = types.StringValue(value3)
								}
							}
							if backendsItem1.Conf.PrometheusMetricsBackendConfig.TLS == nil {
								backends1.Conf.PrometheusMetricsBackendConfig.TLS = nil
							} else {
								backends1.Conf.PrometheusMetricsBackendConfig.TLS = &tfTypes.MeshServices{}
								if backendsItem1.Conf.PrometheusMetricsBackendConfig.TLS.Mode != nil {
									backends1.Conf.PrometheusMetricsBackendConfig.TLS.Mode = &tfTypes.MeshItemMode{}
									if backendsItem1.Conf.PrometheusMetricsBackendConfig.TLS.Mode.Str != nil {
										backends1.Conf.PrometheusMetricsBackendConfig.TLS.Mode.Str = types.StringPointerValue(backendsItem1.Conf.PrometheusMetricsBackendConfig.TLS.Mode.Str)
									}
									if backendsItem1.Conf.PrometheusMetricsBackendConfig.TLS.Mode.Integer != nil {
										backends1.Conf.PrometheusMetricsBackendConfig.TLS.Mode.Integer = types.Int64PointerValue(backendsItem1.Conf.PrometheusMetricsBackendConfig.TLS.Mode.Integer)
									}
								}
							}
						}
					}
					backends1.Name = types.StringPointerValue(backendsItem1.Name)
					backends1.Type = types.StringPointerValue(backendsItem1.Type)
					if backendsCount1+1 > len(items.Metrics.Backends) {
						items.Metrics.Backends = append(items.Metrics.Backends, backends1)
					} else {
						items.Metrics.Backends[backendsCount1].Conf = backends1.Conf
						items.Metrics.Backends[backendsCount1].Name = backends1.Name
						items.Metrics.Backends[backendsCount1].Type = backends1.Type
					}
				}
				items.Metrics.EnabledBackend = types.StringPointerValue(itemsItem.Metrics.EnabledBackend)
			}
			if itemsItem.Mtls == nil {
				items.Mtls = nil
			} else {
				items.Mtls = &tfTypes.Mtls{}
				items.Mtls.Backends = []tfTypes.MeshItemMtlsBackends{}
				for backendsCount2, backendsItem2 := range itemsItem.Mtls.Backends {
					var backends2 tfTypes.MeshItemMtlsBackends
					if backendsItem2.Conf != nil {
						backends2.Conf = &tfTypes.MeshItemMtlsConf{}
						if backendsItem2.Conf.ACMCertificateAuthorityConfig != nil {
							backends2.Conf.ACMCertificateAuthorityConfig = &tfTypes.ACMCertificateAuthorityConfig{}
							backends2.Conf.ACMCertificateAuthorityConfig.Arn = types.StringPointerValue(backendsItem2.Conf.ACMCertificateAuthorityConfig.Arn)
							if backendsItem2.Conf.ACMCertificateAuthorityConfig.Auth == nil {
								backends2.Conf.ACMCertificateAuthorityConfig.Auth = nil
							} else {
								backends2.Conf.ACMCertificateAuthorityConfig.Auth = &tfTypes.Auth{}
								if backendsItem2.Conf.ACMCertificateAuthorityConfig.Auth.AwsCredentials == nil {
									backends2.Conf.ACMCertificateAuthorityConfig.Auth.AwsCredentials = nil
								} else {
									backends2.Conf.ACMCertificateAuthorityConfig.Auth.AwsCredentials = &tfTypes.AwsCredentials{}
									if backendsItem2.Conf.ACMCertificateAuthorityConfig.Auth.AwsCredentials.AccessKey == nil {
										backends2.Conf.ACMCertificateAuthorityConfig.Auth.AwsCredentials.AccessKey = nil
									} else {
										backends2.Conf.ACMCertificateAuthorityConfig.Auth.AwsCredentials.AccessKey = &tfTypes.AccessKey{}
										typeVarResult, _ := json.Marshal(backendsItem2.Conf.ACMCertificateAuthorityConfig.Auth.AwsCredentials.AccessKey.Type)
										backends2.Conf.ACMCertificateAuthorityConfig.Auth.AwsCredentials.AccessKey.Type = types.StringValue(string(typeVarResult))
									}
									if backendsItem2.Conf.ACMCertificateAuthorityConfig.Auth.AwsCredentials.AccessKeySecret == nil {
										backends2.Conf.ACMCertificateAuthorityConfig.Auth.AwsCredentials.AccessKeySecret = nil
									} else {
										backends2.Conf.ACMCertificateAuthorityConfig.Auth.AwsCredentials.AccessKeySecret = &tfTypes.AccessKey{}
										typeVarResult1, _ := json.Marshal(backendsItem2.Conf.ACMCertificateAuthorityConfig.Auth.AwsCredentials.AccessKeySecret.Type)
										backends2.Conf.ACMCertificateAuthorityConfig.Auth.AwsCredentials.AccessKeySecret.Type = types.StringValue(string(typeVarResult1))
									}
								}
							}
							if backendsItem2.Conf.ACMCertificateAuthorityConfig.CaCert == nil {
								backends2.Conf.ACMCertificateAuthorityConfig.CaCert = nil
							} else {
								backends2.Conf.ACMCertificateAuthorityConfig.CaCert = &tfTypes.AccessKey{}
								typeVarResult2, _ := json.Marshal(backendsItem2.Conf.ACMCertificateAuthorityConfig.CaCert.Type)
								backends2.Conf.ACMCertificateAuthorityConfig.CaCert.Type = types.StringValue(string(typeVarResult2))
							}
							backends2.Conf.ACMCertificateAuthorityConfig.CommonName = types.StringPointerValue(backendsItem2.Conf.ACMCertificateAuthorityConfig.CommonName)
						}
						if backendsItem2.Conf.BuiltinCertificateAuthorityConfig != nil {
							backends2.Conf.BuiltinCertificateAuthorityConfig = &tfTypes.BuiltinCertificateAuthorityConfig{}
							if backendsItem2.Conf.BuiltinCertificateAuthorityConfig.CaCert == nil {
								backends2.Conf.BuiltinCertificateAuthorityConfig.CaCert = nil
							} else {
								backends2.Conf.BuiltinCertificateAuthorityConfig.CaCert = &tfTypes.BuiltinCertificateAuthorityConfigConfCaCert{}
								backends2.Conf.BuiltinCertificateAuthorityConfig.CaCert.Expiration = types.StringPointerValue(backendsItem2.Conf.BuiltinCertificateAuthorityConfig.CaCert.Expiration)
								backends2.Conf.BuiltinCertificateAuthorityConfig.CaCert.RsaBits = types.Int64PointerValue(backendsItem2.Conf.BuiltinCertificateAuthorityConfig.CaCert.RsaBits)
							}
						}
						if backendsItem2.Conf.CertManagerCertificateAuthorityConfig != nil {
							backends2.Conf.CertManagerCertificateAuthorityConfig = &tfTypes.CertManagerCertificateAuthorityConfig{}
							if backendsItem2.Conf.CertManagerCertificateAuthorityConfig.CaCert == nil {
								backends2.Conf.CertManagerCertificateAuthorityConfig.CaCert = nil
							} else {
								backends2.Conf.CertManagerCertificateAuthorityConfig.CaCert = &tfTypes.AccessKey{}
								typeVarResult3, _ := json.Marshal(backendsItem2.Conf.CertManagerCertificateAuthorityConfig.CaCert.Type)
								backends2.Conf.CertManagerCertificateAuthorityConfig.CaCert.Type = types.StringValue(string(typeVarResult3))
							}
							backends2.Conf.CertManagerCertificateAuthorityConfig.CommonName = types.StringPointerValue(backendsItem2.Conf.CertManagerCertificateAuthorityConfig.CommonName)
							backends2.Conf.CertManagerCertificateAuthorityConfig.DNSNames = make([]types.String, 0, len(backendsItem2.Conf.CertManagerCertificateAuthorityConfig.DNSNames))
							for _, v := range backendsItem2.Conf.CertManagerCertificateAuthorityConfig.DNSNames {
								backends2.Conf.CertManagerCertificateAuthorityConfig.DNSNames = append(backends2.Conf.CertManagerCertificateAuthorityConfig.DNSNames, types.StringValue(v))
							}
							if backendsItem2.Conf.CertManagerCertificateAuthorityConfig.IssuerRef == nil {
								backends2.Conf.CertManagerCertificateAuthorityConfig.IssuerRef = nil
							} else {
								backends2.Conf.CertManagerCertificateAuthorityConfig.IssuerRef = &tfTypes.IssuerRef{}
								backends2.Conf.CertManagerCertificateAuthorityConfig.IssuerRef.Group = types.StringPointerValue(backendsItem2.Conf.CertManagerCertificateAuthorityConfig.IssuerRef.Group)
								backends2.Conf.CertManagerCertificateAuthorityConfig.IssuerRef.Kind = types.StringPointerValue(backendsItem2.Conf.CertManagerCertificateAuthorityConfig.IssuerRef.Kind)
								backends2.Conf.CertManagerCertificateAuthorityConfig.IssuerRef.Name = types.StringPointerValue(backendsItem2.Conf.CertManagerCertificateAuthorityConfig.IssuerRef.Name)
							}
						}
						if backendsItem2.Conf.ProvidedCertificateAuthorityConfig != nil {
							backends2.Conf.ProvidedCertificateAuthorityConfig = &tfTypes.ProvidedCertificateAuthorityConfig{}
							if backendsItem2.Conf.ProvidedCertificateAuthorityConfig.Cert == nil {
								backends2.Conf.ProvidedCertificateAuthorityConfig.Cert = nil
							} else {
								backends2.Conf.ProvidedCertificateAuthorityConfig.Cert = &tfTypes.AccessKey{}
								typeVarResult4, _ := json.Marshal(backendsItem2.Conf.ProvidedCertificateAuthorityConfig.Cert.Type)
								backends2.Conf.ProvidedCertificateAuthorityConfig.Cert.Type = types.StringValue(string(typeVarResult4))
							}
							if backendsItem2.Conf.ProvidedCertificateAuthorityConfig.Key == nil {
								backends2.Conf.ProvidedCertificateAuthorityConfig.Key = nil
							} else {
								backends2.Conf.ProvidedCertificateAuthorityConfig.Key = &tfTypes.AccessKey{}
								typeVarResult5, _ := json.Marshal(backendsItem2.Conf.ProvidedCertificateAuthorityConfig.Key.Type)
								backends2.Conf.ProvidedCertificateAuthorityConfig.Key.Type = types.StringValue(string(typeVarResult5))
							}
						}
						if backendsItem2.Conf.VaultCertificateAuthorityConfig != nil {
							backends2.Conf.VaultCertificateAuthorityConfig = &tfTypes.VaultCertificateAuthorityConfig{}
							if backendsItem2.Conf.VaultCertificateAuthorityConfig.Mode == nil {
								backends2.Conf.VaultCertificateAuthorityConfig.Mode = types.StringNull()
							} else {
								modeResult, _ := json.Marshal(backendsItem2.Conf.VaultCertificateAuthorityConfig.Mode)
								backends2.Conf.VaultCertificateAuthorityConfig.Mode = types.StringValue(string(modeResult))
							}
						}
					}
					if backendsItem2.DpCert == nil {
						backends2.DpCert = nil
					} else {
						backends2.DpCert = &tfTypes.DpCert{}
						if backendsItem2.DpCert.RequestTimeout == nil {
							backends2.DpCert.RequestTimeout = nil
						} else {
							backends2.DpCert.RequestTimeout = &tfTypes.RequestTimeout{}
							backends2.DpCert.RequestTimeout.Nanos = types.Int64PointerValue(backendsItem2.DpCert.RequestTimeout.Nanos)
							backends2.DpCert.RequestTimeout.Seconds = types.Int64PointerValue(backendsItem2.DpCert.RequestTimeout.Seconds)
						}
						if backendsItem2.DpCert.Rotation == nil {
							backends2.DpCert.Rotation = nil
						} else {
							backends2.DpCert.Rotation = &tfTypes.Rotation{}
							backends2.DpCert.Rotation.Expiration = types.StringPointerValue(backendsItem2.DpCert.Rotation.Expiration)
						}
					}
					if backendsItem2.Mode != nil {
						backends2.Mode = &tfTypes.MeshItemMode{}
						if backendsItem2.Mode.Str != nil {
							backends2.Mode.Str = types.StringPointerValue(backendsItem2.Mode.Str)
						}
						if backendsItem2.Mode.Integer != nil {
							backends2.Mode.Integer = types.Int64PointerValue(backendsItem2.Mode.Integer)
						}
					}
					backends2.Name = types.StringPointerValue(backendsItem2.Name)
					if backendsItem2.RootChain == nil {
						backends2.RootChain = nil
					} else {
						backends2.RootChain = &tfTypes.RootChain{}
						if backendsItem2.RootChain.RequestTimeout == nil {
							backends2.RootChain.RequestTimeout = nil
						} else {
							backends2.RootChain.RequestTimeout = &tfTypes.RequestTimeout{}
							backends2.RootChain.RequestTimeout.Nanos = types.Int64PointerValue(backendsItem2.RootChain.RequestTimeout.Nanos)
							backends2.RootChain.RequestTimeout.Seconds = types.Int64PointerValue(backendsItem2.RootChain.RequestTimeout.Seconds)
						}
					}
					backends2.Type = types.StringPointerValue(backendsItem2.Type)
					if backendsCount2+1 > len(items.Mtls.Backends) {
						items.Mtls.Backends = append(items.Mtls.Backends, backends2)
					} else {
						items.Mtls.Backends[backendsCount2].Conf = backends2.Conf
						items.Mtls.Backends[backendsCount2].DpCert = backends2.DpCert
						items.Mtls.Backends[backendsCount2].Mode = backends2.Mode
						items.Mtls.Backends[backendsCount2].Name = backends2.Name
						items.Mtls.Backends[backendsCount2].RootChain = backends2.RootChain
						items.Mtls.Backends[backendsCount2].Type = backends2.Type
					}
				}
				items.Mtls.EnabledBackend = types.StringPointerValue(itemsItem.Mtls.EnabledBackend)
				items.Mtls.SkipValidation = types.BoolPointerValue(itemsItem.Mtls.SkipValidation)
			}
			items.Name = types.StringValue(itemsItem.Name)
			if itemsItem.Networking == nil {
				items.Networking = nil
			} else {
				items.Networking = &tfTypes.Networking{}
				if itemsItem.Networking.Outbound == nil {
					items.Networking.Outbound = nil
				} else {
					items.Networking.Outbound = &tfTypes.Outbound{}
					items.Networking.Outbound.Passthrough = types.BoolPointerValue(itemsItem.Networking.Outbound.Passthrough)
				}
			}
			if itemsItem.Routing == nil {
				items.Routing = nil
			} else {
				items.Routing = &tfTypes.Routing{}
				items.Routing.DefaultForbidMeshExternalServiceAccess = types.BoolPointerValue(itemsItem.Routing.DefaultForbidMeshExternalServiceAccess)
				items.Routing.LocalityAwareLoadBalancing = types.BoolPointerValue(itemsItem.Routing.LocalityAwareLoadBalancing)
				items.Routing.ZoneEgress = types.BoolPointerValue(itemsItem.Routing.ZoneEgress)
			}
			items.SkipCreatingInitialPolicies = make([]types.String, 0, len(itemsItem.SkipCreatingInitialPolicies))
			for _, v := range itemsItem.SkipCreatingInitialPolicies {
				items.SkipCreatingInitialPolicies = append(items.SkipCreatingInitialPolicies, types.StringValue(v))
			}
			if itemsItem.Tracing == nil {
				items.Tracing = nil
			} else {
				items.Tracing = &tfTypes.Tracing{}
				items.Tracing.Backends = []tfTypes.MeshItemTracingBackends{}
				for backendsCount3, backendsItem3 := range itemsItem.Tracing.Backends {
					var backends3 tfTypes.MeshItemTracingBackends
					if backendsItem3.Conf != nil {
						backends3.Conf = &tfTypes.MeshItemTracingConf{}
						if backendsItem3.Conf.DatadogTracingBackendConfig != nil {
							backends3.Conf.DatadogTracingBackendConfig = &tfTypes.DatadogTracingBackendConfig{}
							backends3.Conf.DatadogTracingBackendConfig.Address = types.StringPointerValue(backendsItem3.Conf.DatadogTracingBackendConfig.Address)
							backends3.Conf.DatadogTracingBackendConfig.Port = types.Int64PointerValue(backendsItem3.Conf.DatadogTracingBackendConfig.Port)
							backends3.Conf.DatadogTracingBackendConfig.SplitService = types.BoolPointerValue(backendsItem3.Conf.DatadogTracingBackendConfig.SplitService)
						}
						if backendsItem3.Conf.ZipkinTracingBackendConfig != nil {
							backends3.Conf.ZipkinTracingBackendConfig = &tfTypes.ZipkinTracingBackendConfig{}
							backends3.Conf.ZipkinTracingBackendConfig.APIVersion = types.StringPointerValue(backendsItem3.Conf.ZipkinTracingBackendConfig.APIVersion)
							backends3.Conf.ZipkinTracingBackendConfig.SharedSpanContext = types.BoolPointerValue(backendsItem3.Conf.ZipkinTracingBackendConfig.SharedSpanContext)
							backends3.Conf.ZipkinTracingBackendConfig.TraceId128bit = types.BoolPointerValue(backendsItem3.Conf.ZipkinTracingBackendConfig.TraceId128bit)
							backends3.Conf.ZipkinTracingBackendConfig.URL = types.StringPointerValue(backendsItem3.Conf.ZipkinTracingBackendConfig.URL)
						}
					}
					backends3.Name = types.StringPointerValue(backendsItem3.Name)
					backends3.Sampling = types.Float64PointerValue(backendsItem3.Sampling)
					backends3.Type = types.StringPointerValue(backendsItem3.Type)
					if backendsCount3+1 > len(items.Tracing.Backends) {
						items.Tracing.Backends = append(items.Tracing.Backends, backends3)
					} else {
						items.Tracing.Backends[backendsCount3].Conf = backends3.Conf
						items.Tracing.Backends[backendsCount3].Name = backends3.Name
						items.Tracing.Backends[backendsCount3].Sampling = backends3.Sampling
						items.Tracing.Backends[backendsCount3].Type = backends3.Type
					}
				}
				items.Tracing.DefaultBackend = types.StringPointerValue(itemsItem.Tracing.DefaultBackend)
			}
			items.Type = types.StringValue(itemsItem.Type)
			if itemsCount+1 > len(r.Items) {
				r.Items = append(r.Items, items)
			} else {
				r.Items[itemsCount].Constraints = items.Constraints
				r.Items[itemsCount].Labels = items.Labels
				r.Items[itemsCount].Logging = items.Logging
				r.Items[itemsCount].MeshServices = items.MeshServices
				r.Items[itemsCount].Metrics = items.Metrics
				r.Items[itemsCount].Mtls = items.Mtls
				r.Items[itemsCount].Name = items.Name
				r.Items[itemsCount].Networking = items.Networking
				r.Items[itemsCount].Routing = items.Routing
				r.Items[itemsCount].SkipCreatingInitialPolicies = items.SkipCreatingInitialPolicies
				r.Items[itemsCount].Tracing = items.Tracing
				r.Items[itemsCount].Type = items.Type
			}
		}
		r.Next = types.StringPointerValue(resp.Next)
		r.Total = types.Float64PointerValue(resp.Total)
	}

	return diags
}

func (r *MeshListDataSourceModel) ToOperationsGetMeshListRequest(ctx context.Context) (*operations.GetMeshListRequest, diag.Diagnostics) {
	var diags diag.Diagnostics

	var cpID string
	cpID = r.CpID.ValueString()

	offset := new(int64)
	if !r.Offset.IsUnknown() && !r.Offset.IsNull() {
		*offset = r.Offset.ValueInt64()
	} else {
		offset = nil
	}
	size := new(int64)
	if !r.Size.IsUnknown() && !r.Size.IsNull() {
		*size = r.Size.ValueInt64()
	} else {
		size = nil
	}
	out := operations.GetMeshListRequest{
		CpID:   cpID,
		Offset: offset,
		Size:   size,
	}

	return &out, diags
}
